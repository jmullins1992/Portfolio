@model SWCLMS.UI.Models.UserSearchVM
@{
    ViewBag.Title = "Search";
}

<h2>User Search</h2>

<div class="row">
    <div class="col-xs-12">
        @using (Html.BeginForm())
        {
            <div class="form-group col-xs-12 col-sm-3">
                <label>First Name</label>
                @Html.TextBoxFor(m => m.Request.FirstName, null, new {@class = "form-control"})
            </div>
    <div class="form-group col-xs-12 col-sm-3">
        <label>Last Name</label>
        @Html.TextBoxFor(m => m.Request.LastName, null, new { @class = "form-control" })
    </div>
    <div class="form-group col-xs-12 col-sm-3">
        <label>Email</label>
        @Html.TextBoxFor(m => m.Request.Email, null, new { @class = "form-control" })
    </div>
            <div class="form-group col-xs-12 col-sm-2">
                <label>Role</label>
                @Html.DropDownListFor(m => m.Request.RoleName, Model.Roles, "Any Role", new {@class = "form-control"})
            </div>
            <div class="form-group col-sm-1">
                <button class="btn btn-primary"><span class="glyphicon glyphicon-search"></span></button>                
            </div>
        }
    </div>
</div>
<div class="row">
    <div class="col-xs-12 col-sm-8 col-sm-offset-2">
        <div class="panel panel-default">
            @if (Model.Results != null && Model.Results.Count > 0)
            {
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>First Name</th>
                            <th>Last Name</th>
                            <th>Email</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var u in Model.Results)
                        {
                            <tr>
                                <td>@u.FirstName</td>
                                <td>@u.LastName</td>
                                <td>@u.Email</td>
                                <td>@Html.ActionLink("Details", "UserDetails", "Admin", new { id = @u.UserId }, new { @class = "btn btn-info" })</td>
                            </tr>
                        }
                    </tbody>
                </table>
            }
            else
            {
                <div class="panel-body">
                    <h4>No results to display.</h4>                    
                </div>
            }
        </div>
        
    </div>

    </div>
